!function(){if(document.querySelector(".portfolio__list")){if(Element&&!Element.prototype.matches){var e=Element.prototype;e.matches=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector}Element.prototype.closest||(Element.prototype.closest=function(e){for(var t=this;t;){if(t.matches(e))return t;t=t.parentElement}return null});var t=new Isotope(".portfolio__list",{itemSelector:".portfolio__item",layoutMode:"fitRows"}),n=document.querySelector(".portfolio__btn-group");eventie.bind(n,"click",function(e){var n=e.target.closest("button");if(n){var o=n.getAttribute("data-filter");t.arrange({filter:o})}})}}(),function(){function e(e){var t=new XMLHttpRequest,n=(new Date).getTime();t.open("post","//formspree.io/ridea@bk.ru?"+n,!0),t.setRequestHeader("Accept","application/json"),t.send(e),t.addEventListener("readystatechange",function(){t.readyState<4?(w.classList.add("btn--sending"),w.innerHTML="Sending..."):4==t.readyState&&(w.classList.remove("btn--sending"),w.innerHTML="Send",m.classList.remove("form--show"),200==t.status?(_.classList.add("alert--show"),console.log("Success! Message has been sent. Status: "+t.status+", "+t.statusText)):(E.classList.add("alert--show"),console.log("Failure! Message has not been sent. Status: "+t.status+", "+t.statusText)))})}function t(e,t){e.addEventListener("click",function(n){n.preventDefault();var o=e.parentElement.classList[0],a=o+"--show";e.parentElement.classList.remove(a),void 0!==t&&t()})}function n(){window.addEventListener("keydown",function(e){27==e.keyCode&&(m.classList.remove("form--show"),u(),_.classList.remove("alert--show"),E.classList.remove("alert--show"))})}function o(){m.classList.remove("form--error"),m.classList.add("form--error")}function a(){localStorage.setItem("name",v.value),localStorage.setItem("email",d.value),localStorage.setItem("subject",g.value),localStorage.setItem("message",p.value)}function s(){v.value=S,d.value=L,g.value=b,p.value=h}function r(){l(v),l(d),l(g),l(p)}function l(e){if(!e.value){var t=e.classList[0],n=t+"--empty";e.classList.add(n)}}function i(){c(v),c(d),c(g),c(p)}function c(e){e.addEventListener("focus",function(){var t=e.classList[0]+"--empty";e.classList.contains(t)&&e.classList.remove(t)})}function u(){m.classList.remove("form--error"),v.classList.remove("form__input--empty"),d.classList.remove("form__input--empty"),g.classList.remove("form__input--empty"),p.classList.remove("form__message--empty")}if(document.querySelector(".form")||"FormData"in window){var m=document.querySelector(".form"),f=document.querySelector(".nav__link--form"),v=m.querySelector("[name=name]"),d=m.querySelector("[name=email]"),g=m.querySelector("[name=subject]"),p=m.querySelector("[name=message]"),y=m.querySelector(".btn--close-form"),w=m.querySelector("[type=submit]"),S=localStorage.getItem("name"),L=localStorage.getItem("email"),b=localStorage.getItem("subject"),h=localStorage.getItem("message");f.addEventListener("click",function(e){e.preventDefault(),m.classList.toggle("form--show"),u(),S&&L&&b&&h?(s(),p.focus()):v.focus()}),t(y,function(){u()}),n(),m.addEventListener("submit",function(t){if(t.preventDefault(),v.value&&d.value&&g.value&&p.value){a();var n=new FormData(m);e(n)}else v.value&&d.value&&g.value&&p.value||(o(),r(),i())});var _=document.querySelector(".alert--success"),E=document.querySelector(".alert--failure"),q=document.querySelector(".btn--success"),k=document.querySelector(".btn--failure");t(q),t(k)}}(),function(){function e(e){function t(){n.classList.toggle("navbar--drop-nav")}var n=this.element=e.element,o=n.querySelector(".navbar__toggle"),a=n.getElementsByClassName("nav__link");this.links=Array.prototype.filter.call(a,function(e){var t=e.getAttribute("href").slice(1);return document.getElementById(t)?!0:void 0}),n.onclick=function(e){e.target===o&&t()}}function t(e,t){var n=Date.now();return function(){n+t-Date.now()<0&&(e(),n=Date.now())}}function n(){l=window.pageYOffset,o(c,l),a(),c=l}function o(e,t){t>e?i.element.className="navbar navbar--hidden":i.element.className="navbar"}function a(){function e(){i.links.forEach(function(e){e.classList.remove("nav__link--current")})}var t=s();if(!t)return void e();var n=u.indexOf(t);e(),i.links[n].classList.add("nav__link--current")}function s(){for(var e,t,n=window.innerHeight/2,o=0;o<u.length;o++)if(t=r(u[o]),l>t.top-n&&l<t.bottom-n){e=u[o];break}return e||null}function r(e){var t=e.getBoundingClientRect();return{top:t.top+window.pageYOffset,bottom:t.bottom+window.pageYOffset}}var l,i=new e({element:document.getElementById("navbar")}),c=0,u=[];i.links.forEach(function(e){var t=e.getAttribute("href").slice(1);u.push(document.getElementById(t))}),window.addEventListener("scroll",t(n,250))}();var wow=new WOW({mobile:!1,offset:200});wow.init();