!function(){if(document.querySelector(".portfolio__list")){var e=new Isotope(".portfolio__list",{itemSelector:".portfolio__item",layoutMode:"fitRows"}),t=document.querySelector(".portfolio__button-group");eventie.bind(t,"click",function(t){if(matchesSelector(t.target,"button")){var s=t.target.getAttribute("data-filter");e.arrange({filter:s})}})}}(),function(){function e(e){var t=new XMLHttpRequest,s=(new Date).getTime();t.open("post","//formspree.io/ridea@bk.ru?"+s,!0),t.setRequestHeader("Accept","application/json"),t.send(e),t.addEventListener("readystatechange",function(){t.readyState<4?(y.classList.add("btn--sending"),y.innerHTML="Sending..."):4==t.readyState&&(y.classList.remove("btn--sending"),y.innerHTML="Send",f.classList.remove("form--show"),200==t.status?(p.classList.add("alert--show"),console.log("Success! Message has been sent. Status: "+t.status+", "+t.statusText)):(q.classList.add("alert--show"),console.log("Failure! Message has not been sent. Status: "+t.status+", "+t.statusText)))})}function t(e,t){e.addEventListener("click",function(s){s.preventDefault();var o=e.parentElement.classList[0],a=o+"--show";e.parentElement.classList.remove(a),void 0!==t&&t()})}function s(){window.addEventListener("keydown",function(e){27==e.keyCode&&(f.classList.remove("form--show"),u(),p.classList.remove("alert--show"),q.classList.remove("alert--show"))})}function o(){f.classList.remove("form--error"),f.classList.add("form--error")}function a(){localStorage.setItem("name",v.value),localStorage.setItem("email",d.value),localStorage.setItem("subject",g.value),localStorage.setItem("message",L.value)}function n(){v.value=w,d.value=_,g.value=b,L.value=h}function r(){i(v),i(d),i(g),i(L)}function i(e){if(!e.value){var t=e.classList[0],s=t+"--empty";e.classList.add(s)}}function l(){c(v),c(d),c(g),c(L)}function c(e){e.addEventListener("focus",function(){var t=e.classList[0]+"--empty";e.classList.contains(t)&&e.classList.remove(t)})}function u(){f.classList.remove("form--error"),v.classList.remove("form__input--empty"),d.classList.remove("form__input--empty"),g.classList.remove("form__input--empty"),L.classList.remove("form__message--empty")}if(document.querySelector(".form")||"FormData"in window){var f=document.querySelector(".form"),m=document.querySelector(".main-nav__link--form"),v=f.querySelector("[name=name]"),d=f.querySelector("[name=email]"),g=f.querySelector("[name=subject]"),L=f.querySelector("[name=message]"),S=f.querySelector(".btn--close-form"),y=f.querySelector("[type=submit]"),w=localStorage.getItem("name"),_=localStorage.getItem("email"),b=localStorage.getItem("subject"),h=localStorage.getItem("message");m.addEventListener("click",function(e){e.preventDefault(),f.classList.toggle("form--show"),u(),w&&_&&b&&h?(n(),L.focus()):v.focus()}),t(S,function(){u()}),s(),f.addEventListener("submit",function(t){if(t.preventDefault(),v.value&&d.value&&g.value&&L.value){a();var s=new FormData(f);e(s)}else v.value&&d.value&&g.value&&L.value||(o(),r(),l())});var p=document.querySelector(".alert--success"),q=document.querySelector(".alert--failure"),H=document.querySelector(".btn--success"),k=document.querySelector(".btn--failure");t(H),t(k)}}(),function(){function e(){for(var e=0;e<r.length;e++){var t=r[e];t.classList.remove("navbar__link--current")}}var t,s=document.querySelector(".navbar"),o=0;window.addEventListener("scroll",function(){t=window.pageYOffset,t>o?s.classList.add("navbar--hide"):s.classList.remove("navbar--hide"),o=t});var a=s.querySelector(".navbar__nav"),n=s.querySelector(".btn--nav-toggle");n.addEventListener("click",function(){n.classList.toggle("btn--pressed"),a.classList.toggle("navbar__nav--show")}),window.addEventListener("scroll",function(){n.classList.remove("btn--pressed"),a.classList.remove("navbar__nav--show")});var r=s.querySelectorAll(".navbar__link"),i=document.querySelector(".intro"),l=document.querySelector(".skills"),c=i.offsetHeight,u=i.offsetHeight+l.offsetHeight,f=document.querySelector(".portfolio"),m=i.offsetHeight+l.offsetHeight,v=i.offsetHeight+l.offsetHeight+f.offsetHeight,d=document.querySelector(".about"),g=i.offsetHeight+l.offsetHeight+f.offsetHeight,L=(i.offsetHeight+l.offsetHeight+f.offsetHeight+d.offsetHeight,window.innerHeight);window.addEventListener("scroll",function(){c-L/2>t?e():t>=c&&u-L/2>t?(e(),r[0].classList.add("navbar__link--current")):t>=m&&v-L/2>t?(e(),r[1].classList.add("navbar__link--current")):t>=g&&(e(),r[2].classList.add("navbar__link--current"))})}();var wow=new WOW({mobile:!1,offset:200});wow.init();