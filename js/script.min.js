!function(){if(document.querySelector(".portfolio__list")){var e=new Isotope(".portfolio__list",{itemSelector:".portfolio__item",layoutMode:"fitRows"}),t=document.querySelector(".portfolio__button-group");eventie.bind(t,"click",function(t){if(matchesSelector(t.target,"button")){var a=t.target.getAttribute("data-filter");e.arrange({filter:a})}})}}(),function(){function e(e){var t=new XMLHttpRequest,a=(new Date).getTime();t.open("post","//formspree.io/ridea@bk.ru?"+a,!0),t.setRequestHeader("Accept","application/json"),t.send(e),t.addEventListener("readystatechange",function(){t.readyState<4?(y.classList.add("btn--sending"),y.innerHTML="Sending..."):4==t.readyState&&(y.classList.remove("btn--sending"),y.innerHTML="Send",m.classList.remove("form--show"),200==t.status?(b.classList.add("alert--show"),console.log("Success! Message has been sent. Status: "+t.status+", "+t.statusText)):(h.classList.add("alert--show"),console.log("Failure! Message has not been sent. Status: "+t.status+", "+t.statusText)))})}function t(e,t){e.addEventListener("click",function(a){a.preventDefault();var s=e.parentElement.classList[0],o=s+"--show";e.parentElement.classList.remove(o),void 0!==t&&t()})}function a(){window.addEventListener("keydown",function(e){27==e.keyCode&&(m.classList.remove("form--show"),u(),b.classList.remove("alert--show"),h.classList.remove("alert--show"))})}function s(){m.classList.remove("form--error"),m.classList.add("form--error")}function o(){localStorage.setItem("name",v.value),localStorage.setItem("email",d.value),localStorage.setItem("subject",L.value),localStorage.setItem("message",g.value)}function n(){v.value=p,d.value=w,L.value=_,g.value=q}function r(){i(v),i(d),i(L),i(g)}function i(e){if(!e.value){var t=e.classList[0],a=t+"--empty";e.classList.add(a)}}function l(){c(v),c(d),c(L),c(g)}function c(e){e.addEventListener("focus",function(){var t=e.classList[0]+"--empty";e.classList.contains(t)&&e.classList.remove(t)})}function u(){m.classList.remove("form--error"),v.classList.remove("form__input--empty"),d.classList.remove("form__input--empty"),L.classList.remove("form__input--empty"),g.classList.remove("form__message--empty")}if(document.querySelector(".form")||"FormData"in window){var m=document.querySelector(".form"),f=document.querySelector(".main-nav__link--form"),v=m.querySelector("[name=name]"),d=m.querySelector("[name=email]"),L=m.querySelector("[name=subject]"),g=m.querySelector("[name=message]"),S=m.querySelector(".btn--close-form"),y=m.querySelector("[type=submit]"),p=localStorage.getItem("name"),w=localStorage.getItem("email"),_=localStorage.getItem("subject"),q=localStorage.getItem("message");f.addEventListener("click",function(e){e.preventDefault(),m.classList.toggle("form--show"),u(),p&&w&&_&&q?(n(),g.focus()):v.focus()}),t(S,function(){u()}),a(),m.addEventListener("submit",function(t){if(t.preventDefault(),v.value&&d.value&&L.value&&g.value){o();var a=new FormData(m);e(a)}else v.value&&d.value&&L.value&&g.value||(s(),r(),l())});var b=document.querySelector(".alert--success"),h=document.querySelector(".alert--failure"),k=document.querySelector(".btn--success"),E=document.querySelector(".btn--failure");t(k),t(E)}}(),function(){function e(e){e.addEventListener("click",function(){t(),e.classList.add("main-nav__link--current")})}function t(){for(var e=0;e<n.length;e++){var t=n[e];t.classList.remove("main-nav__link--current")}}var a,s=document.querySelector(".main-nav"),o=0;window.addEventListener("scroll",function(){a=window.pageYOffset,a>o?s.classList.add("main-nav--hide"):s.classList.remove("main-nav--hide"),o=a});for(var n=s.querySelectorAll(".main-nav__link"),r=0;r<n.length;r++){var i=n[r];e(i)}}();var wow=new WOW({mobile:!1,offset:200});wow.init();