var wow=new WOW({mobile:!1,offset:200});wow.init(),function(){if(document.querySelector(".portfolio__list")){var e=new Isotope(".portfolio__list",{itemSelector:".portfolio__item",layoutMode:"fitRows"}),t=document.querySelector(".portfolio__button-group");eventie.bind(t,"click",function(t){if(matchesSelector(t.target,"button")){var s=t.target.getAttribute("data-filter");e.arrange({filter:s})}})}}(),function(){function e(e){var t=new XMLHttpRequest,s=(new Date).getTime();t.open("post","//formspree.io/ridea@bk.ru?"+s,!0),t.setRequestHeader("Accept","application/json"),t.send(e),t.addEventListener("readystatechange",function(){t.readyState<4?(p.classList.add("btn--sending"),p.innerHTML="Sending..."):4==t.readyState&&(p.classList.remove("btn--sending"),p.innerHTML="Send",m.classList.remove("form--show"),200==t.status?(q.classList.add("alert--show"),console.log("Success! Message has been sent. Status: "+t.status+", "+t.statusText)):(h.classList.add("alert--show"),console.log("Failure! Message has not been sent. Status: "+t.status+", "+t.statusText)))})}function t(e,t){e.addEventListener("click",function(s){s.preventDefault();var o=e.parentElement.classList[0],a=o+"--show";e.parentElement.classList.remove(a),void 0!==t&&t()})}function s(){window.addEventListener("keydown",function(e){27==e.keyCode&&(m.classList.remove("form--show"),u(),q.classList.remove("alert--show"),h.classList.remove("alert--show"))})}function o(){m.classList.remove("form--error"),m.classList.add("form--error")}function a(){localStorage.setItem("name",v.value),localStorage.setItem("email",d.value),localStorage.setItem("subject",g.value),localStorage.setItem("message",L.value)}function r(){v.value=y,d.value=w,g.value=b,L.value=_}function n(){l(v),l(d),l(g),l(L)}function l(e){if(!e.value){var t=e.classList[0],s=t+"--empty";e.classList.add(s)}}function c(){i(v),i(d),i(g),i(L)}function i(e){e.addEventListener("focus",function(){var t=e.classList[0]+"--empty";e.classList.contains(t)&&e.classList.remove(t)})}function u(){m.classList.remove("form--error"),v.classList.remove("form__input--empty"),d.classList.remove("form__input--empty"),g.classList.remove("form__input--empty"),L.classList.remove("form__message--empty")}if(document.querySelector(".form")||"FormData"in window){var m=document.querySelector(".form"),f=document.querySelector(".main-nav__link--form"),v=m.querySelector("[name=name]"),d=m.querySelector("[name=email]"),g=m.querySelector("[name=subject]"),L=m.querySelector("[name=message]"),S=m.querySelector(".btn--close-form"),p=m.querySelector("[type=submit]"),y=localStorage.getItem("name"),w=localStorage.getItem("email"),b=localStorage.getItem("subject"),_=localStorage.getItem("message");f.addEventListener("click",function(e){e.preventDefault(),m.classList.toggle("form--show"),u(),y&&w&&b&&_?(r(),L.focus()):v.focus()}),t(S,function(){u()}),s(),m.addEventListener("submit",function(t){if(t.preventDefault(),v.value&&d.value&&g.value&&L.value){a();var s=new FormData(m);e(s)}else v.value&&d.value&&g.value&&L.value||(o(),n(),c())});var q=document.querySelector(".alert--success"),h=document.querySelector(".alert--failure"),I=document.querySelector(".btn--success"),E=document.querySelector(".btn--failure");t(I),t(E)}}();