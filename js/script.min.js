!function(){if(document.querySelector(".portfolio__list")){var e=new Isotope(".portfolio__list",{itemSelector:".portfolio__item",layoutMode:"fitRows"}),t=document.querySelector(".portfolio__button-group");eventie.bind(t,"click",function(t){if(matchesSelector(t.target,"button")){var o=t.target.getAttribute("data-filter");e.arrange({filter:o})}})}}(),function(){function e(e){var t=new XMLHttpRequest,o=(new Date).getTime();t.open("post","//formspree.io/ridea@bk.ru?"+o,!0),t.setRequestHeader("Accept","application/json"),t.send(e),t.addEventListener("readystatechange",function(){t.readyState<4?(y.classList.add("btn--sending"),y.innerHTML="Sending..."):4==t.readyState&&(y.classList.remove("btn--sending"),y.innerHTML="Send",f.classList.remove("form--show"),200==t.status?(q.classList.add("alert--show"),console.log("Success! Message has been sent. Status: "+t.status+", "+t.statusText)):(H.classList.add("alert--show"),console.log("Failure! Message has not been sent. Status: "+t.status+", "+t.statusText)))})}function t(e,t){e.addEventListener("click",function(o){o.preventDefault();var s=e.parentElement.classList[0],n=s+"--show";e.parentElement.classList.remove(n),void 0!==t&&t()})}function o(){window.addEventListener("keydown",function(e){27==e.keyCode&&(f.classList.remove("form--show"),u(),q.classList.remove("alert--show"),H.classList.remove("alert--show"))})}function s(){f.classList.remove("form--error"),f.classList.add("form--error")}function n(){localStorage.setItem("name",d.value),localStorage.setItem("email",v.value),localStorage.setItem("subject",g.value),localStorage.setItem("message",L.value)}function a(){d.value=h,v.value=w,g.value=p,L.value=_}function r(){i(d),i(v),i(g),i(L)}function i(e){if(!e.value){var t=e.classList[0],o=t+"--empty";e.classList.add(o)}}function l(){c(d),c(v),c(g),c(L)}function c(e){e.addEventListener("focus",function(){var t=e.classList[0]+"--empty";e.classList.contains(t)&&e.classList.remove(t)})}function u(){f.classList.remove("form--error"),d.classList.remove("form__input--empty"),v.classList.remove("form__input--empty"),g.classList.remove("form__input--empty"),L.classList.remove("form__message--empty")}if(document.querySelector(".form")||"FormData"in window){var f=document.querySelector(".form"),m=document.querySelector(".main-nav__link--form"),d=f.querySelector("[name=name]"),v=f.querySelector("[name=email]"),g=f.querySelector("[name=subject]"),L=f.querySelector("[name=message]"),S=f.querySelector(".btn--close-form"),y=f.querySelector("[type=submit]"),h=localStorage.getItem("name"),w=localStorage.getItem("email"),p=localStorage.getItem("subject"),_=localStorage.getItem("message");m.addEventListener("click",function(e){e.preventDefault(),f.classList.toggle("form--show"),u(),h&&w&&p&&_?(a(),L.focus()):d.focus()}),t(S,function(){u()}),o(),f.addEventListener("submit",function(t){if(t.preventDefault(),d.value&&v.value&&g.value&&L.value){n();var o=new FormData(f);e(o)}else d.value&&v.value&&g.value&&L.value||(s(),r(),l())});var q=document.querySelector(".alert--success"),H=document.querySelector(".alert--failure"),b=document.querySelector(".btn--success"),k=document.querySelector(".btn--failure");t(b),t(k)}}(),function(){function e(){for(var e=0;e<n.length;e++){var t=n[e];t.classList.remove("main-nav__link--current")}}var t,o=document.querySelector(".main-nav"),s=0;window.addEventListener("scroll",function(){t=window.pageYOffset,t>s?o.classList.add("main-nav--hide"):o.classList.remove("main-nav--hide"),s=t});var n=o.querySelectorAll(".main-nav__link"),a=document.querySelector(".intro"),r=document.querySelector(".skills"),i=a.offsetHeight,l=a.offsetHeight+r.offsetHeight,c=document.querySelector(".portfolio"),u=a.offsetHeight+r.offsetHeight,f=a.offsetHeight+r.offsetHeight+c.offsetHeight,m=document.querySelector(".about"),d=a.offsetHeight+r.offsetHeight+c.offsetHeight,v=(a.offsetHeight+r.offsetHeight+c.offsetHeight+m.offsetHeight,window.innerHeight);window.addEventListener("scroll",function(){i-v/2>t?e():t>=i&&l-v/2>t?(e(),n[0].classList.add("main-nav__link--current")):t>=u&&f-v/2>t?(e(),n[1].classList.add("main-nav__link--current")):t>=d&&(e(),n[2].classList.add("main-nav__link--current"))})}();var wow=new WOW({mobile:!1,offset:200});wow.init();