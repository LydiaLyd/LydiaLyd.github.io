var linkOpenLetter=document.querySelector(".open-letter"),popupLetter=document.querySelector(".modal-content"),closeLetterCross=popupLetter.querySelector(".modal-content-close"),closeLetterButton=popupLetter.querySelector(".close-letter"),formLetter=popupLetter.querySelector(".form-letter"),senderName=popupLetter.querySelector("[name=sender-name]"),senderEmail=popupLetter.querySelector("[name=sender-email]"),letterText=popupLetter.querySelector("[name=letter-text]"),storageSenderName=localStorage.getItem("senderName"),storageSenderEmail=localStorage.getItem("senderEmail");linkOpenLetter.addEventListener("click",function(e){e.preventDefault(),popupLetter.classList.add("modal-content-show"),storageSenderName?(senderName.value=storageSenderName,senderEmail.focus(),storageSenderEmail&&(senderEmail.value=storageSenderEmail,letterText.focus())):senderName.focus()}),closeLetterCross.addEventListener("click",function(e){e.preventDefault(),popupLetter.classList.remove("modal-content-show")}),closeLetterButton.addEventListener("click",function(e){e.preventDefault(),popupLetter.classList.remove("modal-content-show")}),window.addEventListener("keydown",function(e){27==e.keyCode&&popupLetter.classList.contains("modal-content-show")&&popupLetter.classList.remove("modal-content-show")}),formLetter.addEventListener("submit",function(){localStorage.setItem("senderName",senderName.value),localStorage.setItem("senderEmail",senderEmail.value)});